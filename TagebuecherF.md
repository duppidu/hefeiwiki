# Tagebuch
----
Autor: Florian Gehrig  
Klasse: HF2A  
Datum: 18. August 2015  
Version: 1.0  

----
- <a href="#SM1.0">Tagebuch von Florian über den RoboCup in Hefei, China</a>
	- <a href="#SM1.1">15. Juli 2015 - Tag 1 - Abreise</a>
	- <a href="#SM1.2">16. Juli 2015 - Tag 2 - Ankunft Shanghai und Weiterreise nach Hefei</a>
	- <a href="#SM1.3">17. Juli 2015 - Tag 3 - Erster Setup-Day</a>
	- <a href="#SM1.4">18. Juli 2015 - Tag 4 - Zweiter Setup-Day</a>
	- <a href="#SM1.5">19. Juli 2015 - Tag 5 - Round-Robin</a>
	- <a href="#SM1.6">20. Juli 2015 - Tag 6 - Playoffs</a>
	- <a href="#SM1.7">21. Juli 2015 - Tag 7 - Technical Challenge</a>
	- <a href="#SM1.8">22. Juli 2015 - Tag 8 - Finals</a>

----
# <a name="SM1.0">Tagebuch von Florian über den RoboCup in Hefei, China</a>

## <a name="SM1.1">15. Juli 2015 - Tag 1 - Abreise</a>
Die Aufregung war gross. Ich fragte mich die ganze Zeit, ob ich alles eingepackt habe und ob ich alles sicher verstaut habe. Nachdem wir am Flughafen ankamen war diese Angst bereits verschwunden. Dafür kam eine Andere. Schaffen ich und mein ganzes Gepäck es heil über den Zoll. Vor der Handgepäckkontrolle war die Nervosität unerträglich. Endliche konnte ich mein Handgepäck auf das Band legen und staunte nicht schlecht als mein Rucksack auf dem anderen Band landete. Die nette Polizistin fragte mich, ob ich noch ein Red Bull oder sonst etwas anderes flüssiges im Rucksack habe. Ich wisse doch, dass ich fliegen will und das nicht dürfte. Ganz verdutzt verneinte ich, da mir im Moment nicht in den Sinn kam, was sie meinen könnte. Sie versicherte mir noch einmal, dass etwas Flüssiges im Rucksack sein muss und dass ich ihn öffnen soll. In diesem Moment dämmerte es mir wieder, ich habe vor der Zugfahrt ein Joghurtdrink gekauft und diesen vor lauter Aufregung ganz vergessen. Sie entsorgte die Flasche und ich konnte weiterpassieren. Ausser dem chinesischen Gummiball der neben mir sass und der allgemeinen Unruhe im Flugzeug, war es ein angenehmer Flug. Ich konnte nur leider nicht so viel schlafen, wie ich eigentlich vorgehabt habe. 
## <a name="SM1.2">16. Juli 2015 - Tag 2 - Ankunft Shanghai und Weiterreise nach Hefei</a>
Am Morgen etwas nach sieben Uhr kamen wir in Shanghai an. Wieder war die Nervosität da, ob alles vollständig über den Zoll gekommen ist. Vor allem beim aufgegebenen Gepäck. Glücklicherweise gab es keine Zwischenfälle. Vom Flughafen fuhren wir zuerst mit der Maglev Magnetschwebebahn mit 300 Sachen. Am nächsten Bahnhof, dem Endbahnhof mussten wir dann auf die Metro umsteigen und etwa 20 Haltstellen fahren bis zum Hauptbahnhof. Dort warteten wir auf einen Schnellzug nach Hefei. Da der Erste bereits Ausverkauft war, mussten wir dort vier Stunden auf den Nächsten warten. Zuerst assen wir in einem Nudelrestaurant ein Menü für 35 Yuan, umgerechnet etwa fünf Franken. Gegessen wurde mit den Stäbli. Und nicht gerade schön, war aber auch nicht anders möglich und ist hier anscheinend üblich. Nach dem Essen gingen wir zur Wartehalle. Auf den Sitzplätzen dort schliefen Einige von uns ein und wurden zur Fotoattraktion. Eine Frau setzte sich einmal sogar auf den leeren Sitz nebenan und liess sich ein Foto vom schlafenden Felix machen. Auch ein kleines Mädchen war anscheinend ganz fasziniert von uns. Sie kam immer wieder her und musterte uns, hatte aber auch Angst und lief dann wieder zurück. Ich musste noch mein Geld wechseln. In der Wartehalle gab es einen Wechselautomaten. Dem musste ich aber mindestens zwanzig Franken füttern, hundert Franken akzeptierte er nicht und etwas anderes hatte ich nicht bei mir. Also wechselte ich ein Zwanziger in 121 Yuan. 
Später konnten wir dann endlich in den Zug einsteigen. Vom Zug aus zeigte sich ein Bild, dass ich nicht so schnell vergessen werde. Überraschenderweise sehr viel Grün. Dazwischen immer wieder die gleichen Hochhäuser, teils zu hunderten nebeneinander Gebaut. Schon von aussen gesehen, möchte man nicht darin Leben. Sehr viele stehen auch noch im Bau. Das Gerüst wird aus Bambus gebaut. Sonst sehr viel Industrie, alles ist verdreckt und überall sieht man Müllhalden. Immer wieder sieht man auch viele kleine verdreckte Tümpel. Sehr oft sieht man auch leerstehende Gebäude, teils zerfallen, teils nur noch die Ziegelhaufen. 

## <a name="SM1.3">17. Juli 2015 - Tag 3 - Erster Setup-Day</a>
Am ersten Tag mussten wir zuerst lange anstehen, um an den Sicherheitsleuten vorbeizukommen. Man läuft durch Metalldetektoren, welche natürlich angeben und wird dann von jungen hübschen Mädchen in Uniformen mit Handdetektoren gescannt. Dann sind sie zufrieden und man wird durchgewinkt. Dann noch einmal warten, um das Team anzumelden. Als Willkommensgeschenk gab es zwei RoboCup T-Shirts, ein paar Broschüren und den Zugangspass. Danach liefen wir durch die riesige Halle zu unserer Liga. Dort standen für uns vier sehr kleine Tische und Stühle mit einem Überzug, der bis an den Boden reicht. Sofort begannen wir mit dem Auspacken und aufstellen. Bis am Abend war alles aufgebaut und ein Ablauf mit Explorationsphase funktionierte bereits. Wenn man etwas braucht, zum Beispiel ein Ethernet-Kabel oder ein Transportbus zum Hotel, hat es sehr viele junge Volontäre. Die sind extra angestellt, um den Teilnehmern zu helfen. Beim Mittagessen wurden wir wieder beobachtet und fotografiert. Am Abend suchten wir ein Restaurant aus, das sehr einladend aussah. Leider war die Speisekarte nur auf Chinesisch und hatte keine Bilder. Die Bedienung konnte kein Englisch, deshalb holte sie einen Jungen der etwas Englisch konnte. Mit den Englischkenntnissen und einer Übersetzungsapp konnten wir Essen und Bier bestellen. Es wurden uns zwei Schüsseln aufgetischt. Eine mit Krabben und eine mit Frosch oder Ratten. Auf Nachfrage fanden wir heraus, dass es Frosch ist. Wieder wurden wir beobachtet und fotografiert. Bei den Krabben brauchte es bereits Überwindung einen in die Finger zu nehmen. Sie hatten wenig Fleisch und es war schwierig zu essen ohne dabei von der Schale zu erwischen. Der Frosch war eigentlich sehr lecker, wenn auch manchmal ein Schenkel sehr stark gewürzt war. Das Essen kostete umgerechnet etwa 10 Franken. 
## <a name="SM1.4">18. Juli 2015 - Tag 4 - Zweiter Setup-Day</a>
Beim zweiten Setup-Day wollten wir die Explorationsphase noch einmal verbessern und testen. Ich habe die Nacht nicht besonders gut geschlafen und wir haben den Wecker falsch gestellt und deshalb verschlafen. Deshalb war der Morgen etwas mühselig. Auch an die Toiletten dort konnte ich mich immer noch nicht gewöhnen. Da freute ich mich schon wieder für zurück in das Hotel. Leider hatten wir an diesem Tag auch sehr viele Probleme. Der Router musste versetzt werden, die Integration der Refbox funktionierte nicht, Probleme beim Laden der Robotinos, die Servomotoren der Greifer funktionierten nicht oder nicht ordnungsgemäss und der Kanal des WLANs musste umgestellt werden. 

Um fünf Uhr gab es von Festo ein Meeting über den Ablauf und die Regeln des Wettbewerbs. Dieses Meeting machte die Freude und die Stimmung des Teams den Bach runter. Vor Beginn der Explorationsphase dürfen die Roboter nicht im Feld stehen. Deshalb funktionierte das Ganze dann nicht mehr so gut. Da wir aber sechs gute Programmierer zur Verfügung hatten, wurden viele Fehler rasch gefunden. Die restlichen Tests und Anpassungen können aber erst am nächsten Tag durchgeführt werden, da der Bus auf acht Uhr bestellt wurde. Zudem müssen von jedem Team zwei Schiedsrichter bestimmt sein. Die hatten dann noch einmal ein Meeting, in dem die Refbox und die Aufgaben erklärt wurden. Wenigstens ist mein Programm nicht getestet, habe keine aktuelle Refbox, welche annähernd funktioniert, kann keine Verbindung von ausserhalb aufbauen und habe überhaupt keine Lust den Schiedsrichter zu spielen. Morgen startet bereits das Round-Robin. Alle sind voll überzeugt, dass morgen die Explorationsphase wieder funktioniert. Leider bringt das überhaupt nichts, wenn mein Programm nicht läuft. 

Zwischendurch ging ich nach draussen, um mein Geld zu wechseln. Zuerst zur Postal Savings Bank, dann zur Construction Bank (dort wurde tatsächlich gerade gebaut) und zu Letzt zur Bank of China. Die ersten Beiden kannten die Währung erst gar nicht. Erst als ich den Schein zeigte, verstand er und zeigte mir halbverständlich den Weg zur nächsten Bank. Sie alle waren sehr freundlich, ich musste nur dumm im Raum stehen und schon kamen sie und fragten, was ich möchte. Bei der Bank of China konnte ich dann mein Geld wechseln. Die nette Dame dort in der Schalterhalle half mir und stand die ganze Zeit für mich zur Verfügung. Es dauerte seine Zeit, weshalb ich bereits etwas Nervös wurde, da ich das Geld bereits gegeben habe, aber immer noch nichts erhalten habe. Für die 200 Franken gab es 1248 Yuan.
## <a name="SM1.5">19. Juli 2015 - Tag 5 - Round-Robin</a>
Die erste Competition begann um zwölf Uhr, bis dahin waren wir dran mit Testen. Die Verbindung zur Refbox wollte nicht funktionieren. Zuerst konnte gar keine Verbindung aufgebaut werden. Nach ein paar Änderungen bei unserem Netzwerk konnte die Refbox erreicht werden. Die Robotinos wurden auf dem Bildschirm angezeigt. Leider wurden die entdeckten Maschinen nicht der Refbox gemeldet. Während den Spielen wurden die Zonen nicht geschickt, eine oder zwei Maschinen wurden entdeckt, konnten der Refbox aber nicht gemeldet werden oder sonst etwas funktionierte nicht. Wurden die Zonen nicht geschickt, war das Spiel für uns nach 10 Sekunden vorbei. Da das Spiel weiterlief und während wir nicht spielten, die Refbox nicht immer zur Verfügung stand, konnten wir sehr wenig austesten. Wir selber haben nur eine Refbox auf der VirtualBox, auf die die Roboter nicht zugreifen können. Und jeder Durchgang brauchte immer enorm lange. Bis am späten Abend sind wir daran gewesen die Kommunikation zur Refbox aufzubauen. Die Nerven des Teams lagen alle blank. Denn wenn die Maschinen zwar perfekt entdeckt werden, aber nicht der Refbox gemeldet werden können, gibt es keine Punkte. Bis am Schluss war kein zufriedenstellendes Ergebnis vorhanden. Doch die zwei besten Programmierer unseres Teams sassen zuletzt am Programm und fanden heraus, dass es ein Problem mit dem Senden der Nachricht gibt. Da die Nachricht nur einmal gesendet wird kommt sie nicht richtig bei der Refbox an. Deshalb muss sie mit einem Thread alle paar Sekunden gesendet werden. Daraus schöpften viele wieder Hoffnung.
## <a name="SM1.6">20. Juli 2015 - Tag 6 - Playoffs</a>
Am Vorabend haben wir durch debuggen an der Refbox herausgefunden, dass unsere Meldungen ankommen, aber nur einmal. Deshalb haben wir das Senden in einen Thread gepackt. Das führte zu einem weiteren Fehler. Da wir den Maschinenreport aus der Methode genommen haben mussten wir den Maschinenreporteintrag als globale Variable definieren. Der Maschinenreporteintrag war aber in der Methode noch deklariert. NetBeans gibt da nur eine Warnung aus «Local Variable hides a Field». Deshalb wurde die Variable überschrieben und leer geschickt. Danach fehlte es noch an der richtigen Syntax für den Maschinenreporteintrag. Für den Maschinennamen muss der vollständige Name als String eingetragen werden. Z.B. C-RS1. Danach funktionierte die Meldung an die Refbox. Leider wurde dann ein falscher Report gesendet oder einer bei dem der TypeString null resp. die Lampen alle false sind. Dies kann möglicherweise daher kommen, dass der ExploController beim Erkennen der Maschine, nebst dem Objekt Inputmaschine auch gleich ein Objekt Outputmaschine auf den Broker schickt. Das Objekt Outputmaschine hat alle Lampen auf false. So könnte es sein dass sich die Objekte gegenseitig überschreiben.
## <a name="SM1.7">21. Juli 2015 - Tag 7 - Technical Challenge</a>
In der Zwischenzeit hat Lukas sein Programm so abgeändert, dass für die ComRefBox ein spezielles Topic bereitsteht. Auf dieses Topic wird nur das Objekt mit der richtigen Lampenstellung gesetzt. Bei einem Test funktionierte es und wir erhielten unsere ersten acht Punkte. Wir hatten aber noch Probleme mit dem Fahren und dem Erkennen der Farben. Im Spiel gegen die InBots konnten wir wieder eine Lampe erkennen und schafften es so auf den zweiten Platz für die Finals. Wir hatten aber immer noch Probleme mit dem Ausweichen und dem Erkennen der Lampen. Das Ausweichen war schnell gefixt. Aber die Lampenerkennung machte dann noch lange Probleme. Gegen den Abend funktionierte die Lampenerkennung sehr gut. Es konnten mehr als eine Station geschickt werden. Leider schmierte bei der zweiten Meldung der private Kanal ab. So konnten die erkannten Maschinen nicht gesendet werden und das Beacon wurde nicht mehr gesendet. So meldete die Refbox die Roboter seien verloren. So haben wir wieder ein neues grosses Problem, um das wir uns wieder kümmern müssen. Leider war es Zeit für in den bestellten Bus zu steigen. Deshalb entschieden wir uns, aufzuhören und am nächsten Tag das Problem noch zu lösen. Auf Hilfe von Seiten Tims können wir nicht mehr hoffen. Zum einen war er schon zu Anfang an nicht sehr kooperationsbereit und zum anderen ist er nun wahrscheinlich sehr nervös geworden. Er hat heute auch zum aller allerersten Mal das Team zusammengerufen und eine Besprechung abgehalten. Der morgige Tag wird sicher noch einmal stressig, aufregend und nervös.
## <a name="SM1.8">22. Juli 2015 - Tag 8 - Finals</a>
Am Vorabend hatten wir beim Entdecken zweier Maschinen herausgefunden, dass die Verbindung zur Refbox abschmiert. Da das Senden der Nachricht in der run-Methode ist dachten wir, wir überlasten den Peer, indem wir dreimal das gleiche immer wieder in einem zu kurzen Abstand senden. Deshalb machten wir, dass nur ein Robotino die entdeckten Maschinen sendet. Dennoch schmierte die Verbindung immer noch ab. Dann bauten wir vor und nach dem Senden einen Thread-Sleep von je einer halben Sekunde ein, um so den Peer nicht zu Überlasten. Dann schafften wir einen Explorationsdurchgang ohne dass die Verbindung abschmierte. Dann begannen gerade die Vorbereitungen für das erste Final zwischen Team Solidus und Carologistics. Just in diesem Moment kamen wir auf unseren frappant dummen Fehler. Die Message darf maximal 1400bytes gross sein. Also etwa die Grösse eines IP-Pakets. In der Run-Methode wurde jetzt nicht nur jedes Mal eine neue Message generiert und geschickt, sondern auch bei jedem Durchgang der Maschinenreporteintrag dem Maschinenreport hinzugefügt. Bei einer entdeckten Maschine reichte das für eine Explorationsphase. Als die Maschinen aber soweit bereit waren mehr als eine Maschine zu entdecken, wurde der Maschinenreport viel grösser und erreichte bereits nach kurzer Zeit das Limit. Deshalb mussten wir das Hinzufügen der Maschinenreporteinträge aus der Run-Methode nehmen. Dies wurde aber noch nicht getestet und konnte nun, kurz vor dem Finalspiel, nicht mehr getestet werden. Wir entschieden dann im Team, dass wir es so lassen und nicht mehr ändern. Da der Peer jetzt wahrscheinlich eine Explorationsphase lang durchhält. Dann kam das Finalspiel. Wir bereiteten noch alles vor. Michael merkte zum Glück vor dem Start noch, dass die Roboter 1 & 2 auf der falschen Seite stehen. Mit diesem Fehler hätte wahrscheinlich gar nichts funktioniert. Dann ging's los, die Roboter fuhren los und erkannten zwei Maschinen. Da war gerade Gleichstand mir Carologistics. Dann waren die drei Roboter je an einer Maschine am Erkennen. Die Aachener wurden richtig nervös. Leider verabschiedeten sich alle drei Roboter bevor sie eine weitere Maschine erkennen konnten und Carologistics erkannte noch eine Maschine. Damit waren sie bereits im Vorsprung und wir somit auf dem zweiten Platz. In der Produktion haben sie dann noch ein Produkt hergestellt. Wenn die Kommunikation mit der Refbox funktioniert hätte, hätten wir der Regeländerung nicht zugestimmt, wir hätten länger Zeit gehabt, um die Explorationsphase zu verbessern und hätten die Deutschen geschlagen. Denn sie wären nie in der Lage gewesen ein Produkt in der geforderten Zeit fertigzustellen. Nach dem Final haben wir unsere Sachen zusammengepackt und haben auf die Rangverkündigung gewartet. Einige haben mit CoD ihre Nerven beruhigt, andere haben den anderen Ligen zugeschaut. Danach ging's zur Rangverkündigung, wir wurden auf die Bühne gerufen und erhielten als Preis ein schönes Teller in einem Koffer. Nach der Rangverkündigung wurden wir noch auf ein Drink mit den anderen Teilnehmern der Logistics League eingeladen. Wir gingen zum Hotel und warteten dort in der Lobby bis die Anderen kommen. Leider kam niemand. Wir bestellten uns Taxis vor das Hotel. Erst da erschien Wataru mit seinem Team. Wir verabschiedeten uns aber dann und fuhren mit den Taxis in das Hotel. Zum Abendessen gab es Streetkitchen. Wir bekamen eine kleine Schüssel mit diversen undefinierbaren Nudel, Algen usw. Geschmacklich war es eher fad. Man konnte es aber essen. An diesem Abend gingen wir eher früher zurück ins Hotel. Da wir noch packen mussten und am nächsten Tag bereits um acht Uhr bereit stehen sollen. Am Morgen stand unerwartet Candy vor dem Hotel. Eigentlich hatte sie sich bereits am Vortag von uns verabschiedet. Sie schaffte es aber doch noch, dass sie uns das letzte Mal auf den Bus bringen konnte. Sie war in der Zeit unsere persönliche Volontärin und organisierte uns jeweils den Bus, um vom Hotel auf das Messegelände zu fahren. Mit dem Bus ging es dann wieder zum Bahnhof und von dort mit dem Schnellzug nach Shanghai.

----
Last edited by Florian Gehrig at 18. August 2015
